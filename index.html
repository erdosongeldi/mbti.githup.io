<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MBTI Тест</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #121212;
    color: #eee;
    margin: 0; padding: 20px;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
  }
  h1 {
    text-align: center;
    margin-bottom: 20px;
  }
  form {
    margin-bottom: 20px;
  }
  .question {
    margin-bottom: 15px;
  }
  .question p {
    margin: 0 0 5px 0;
  }
  label {
    margin-right: 15px;
    cursor: pointer;
  }
  input[type="radio"] {
    margin-right: 5px;
    cursor: pointer;
  }
  button {
    display: block;
    margin: 20px auto;
    padding: 10px 25px;
    font-size: 18px;
    cursor: pointer;
    background: #444;
    border: none;
    color: #eee;
    border-radius: 5px;
    transition: background 0.3s;
  }
  button:hover {
    background: #666;
  }
  #result {
    background: #222;
    padding: 20px;
    border-radius: 8px;
    white-space: pre-wrap;
    font-size: 16px;
    display: none;
  }
  .fade-in {
    animation: fadeIn 1s ease-in-out forwards;
  }
  @keyframes fadeIn {
    from {opacity: 0; transform: translateY(20px);}
    to {opacity: 1; transform: translateY(0);}
  }
</style>
</head>
<body>

<h1>MBTI Тест -- 60 вопросов</h1>
<form id="mbtiForm">
  <!-- Вопросы вставятся сюда -->
</form>
<button id="submitBtn">Показать результат и скачать PDF</button>

<div id="result"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
  const questions = [
    { text: "Я чувствую себя комфортно в больших компаниях.", dimension: "EI", reverse: false },
    { text: "Мне легче сосредоточиться на деталях, чем на общей картине.", dimension: "SN", reverse: false },
    { text: "Я принимаю решения, опираясь на логику, а не на эмоции.", dimension: "TF", reverse: false },
    { text: "Мне нравится планировать всё заранее.", dimension: "JP", reverse: false },
    { text: "Я люблю быть в центре внимания.", dimension: "EI", reverse: false },
    { text: "Мне важно опираться на факты, а не на предположения.", dimension: "SN", reverse: false },
    { text: "Я стараюсь избегать конфликтов и учитываю чувства других.", dimension: "TF", reverse: true },
    { text: "Я предпочитаю гибко реагировать на изменения, а не следовать плану.", dimension: "JP", reverse: true },
    { text: "Общение с людьми заряжает меня энергией.", dimension: "EI", reverse: false },
    { text: "Я склонен(на) доверять своей интуиции больше, чем конкретным данным.", dimension: "SN", reverse: true },
    { text: "Я часто анализирую причины своих и чужих поступков.", dimension: "TF", reverse: false },
    { text: "Мне важно соблюдать порядок и правила.", dimension: "JP", reverse: false },
    { text: "Мне легко заводить новых друзей.", dimension: "EI", reverse: false },
    { text: "Я предпочитаю практические и проверенные решения.", dimension: "SN", reverse: false },
    { text: "Мне сложно проявлять эмоции открыто.", dimension: "TF", reverse: true },
    { text: "Я люблю заранее планировать свой день.", dimension: "JP", reverse: false },
    { text: "Мне нравится обсуждать идеи и концепции.", dimension: "EI", reverse: true },
    { text: "Я предпочитаю смотреть на вещи с широкой перспективы.", dimension: "SN", reverse: true },
    { text: "Я доверяю фактам больше, чем чувствам.", dimension: "TF", reverse: false },
    { text: "Мне сложно менять свои планы в последний момент.", dimension: "JP", reverse: false },
    { text: "Я быстро восстанавливаю силы после общения.", dimension: "EI", reverse: true },
    { text: "Я ценю логику и последовательность в мыслях.", dimension: "SN", reverse: false },
    { text: "Я часто принимаю решения, основываясь на эмоциях.", dimension: "TF", reverse: true },
    { text: "Мне комфортно работать без жёсткого расписания.", dimension: "JP", reverse: true },
    { text: "Я предпочитаю активный отдых с друзьями.", dimension: "EI", reverse: false },
    { text: "Мне нравится узнавать новые факты и подробности.", dimension: "SN", reverse: false },
    { text: "Я склонен(на) к объективному анализу проблем.", dimension: "TF", reverse: false },
    { text: "Я предпочитаю иметь чёткий план и следовать ему.", dimension: "JP", reverse: false },
    { text: "Я получаю энергию от уединения.", dimension: "EI", reverse: true },
    { text: "Мне интересно исследовать скрытые смыслы вещей.", dimension: "SN", reverse: true },
    { text: "Я стараюсь избегать эмоциональных решений.", dimension: "TF", reverse: false },
    { text: "Мне сложно работать без четких инструкций.", dimension: "JP", reverse: false },
    { text: "Мне нравится заводить много знакомых.", dimension: "EI", reverse: false },
    { text: "Я люблю работать с конкретными фактами и цифрами.", dimension: "SN", reverse: false },
    { text: "Я склонен(на) слушать сердце при выборе.", dimension: "TF", reverse: true },
    { text: "Я предпочитаю действовать спонтанно, а не по плану.", dimension: "JP", reverse: true },
    { text: "Я быстро устаю от большого общения.", dimension: "EI", reverse: true },
    { text: "Мне интересны новые идеи и концепции.", dimension: "SN", reverse: true },
    { text: "Я стараюсь быть справедливым(ой), оценивая ситуации.", dimension: "TF", reverse: false },
    { text: "Я люблю структурировать и систематизировать информацию.", dimension: "JP", reverse: false },
    { text: "Я предпочитаю работать в команде.", dimension: "EI", reverse: false },
    { text: "Мне важна практическая польза от информации.", dimension: "SN", reverse: false },
    { text: "Я стараюсь проявлять сочувствие к другим.", dimension: "TF", reverse: true },
    { text: "Я люблю иметь возможность выбора, а не строго следовать правилам.", dimension: "JP", reverse: true },
    { text: "Общение с новыми людьми меня вдохновляет.", dimension: "EI", reverse: false },
    { text: "Я склонен(на) концентрироваться на деталях.", dimension: "SN", reverse: false },
    { text: "Я ценю объективность и рациональность.", dimension: "TF", reverse: false },
    { text: "Мне нравится иметь всё под контролем.", dimension: "JP", reverse: false },
    { text: "Мне комфортно в уединении, чем в шумной компании.", dimension: "EI", reverse: true },
    { text: "Я предпочитаю смотреть на мир с широкой перспективы.", dimension: "SN", reverse: true },
    { text: "Я стараюсь принимать решения исходя из чувств.", dimension: "TF", reverse: true },
    { text: "Мне сложно работать без расписания и порядка.", dimension: "JP", reverse: false },
    { text: "Я люблю быстро переключаться между задачами.", dimension: "JP", reverse: true },
    { text: "Общение с друзьями заряжает меня энергией.", dimension: "EI", reverse: false },
    { text: "Мне нравится узнавать новые идеи и теории.", dimension: "SN", reverse: true },
    { text: "Я стараюсь быть честным(ой) и прямолинейным(ой).", dimension: "TF", reverse: false },
    { text: "Я предпочитаю заранее планировать важные дела.", dimension: "JP", reverse: false },
    { text: "Я чувствую себя лучше в малых компаниях или один.", dimension: "EI", reverse: true }
  ];

  // Полные описания типов -- около 200 слов для каждого (можно расширять)
  const descriptions = {
    INTJ: `INTJ -- Архитектор

INTJ -- стратеги и аналитики, которые ценят логику и независимость. Они стремятся понять скрытые закономерности и систематизировать информацию. Часто INTJ обладают уникальным видением будущего, что помогает им строить долгосрочные планы и добиваться поставленных целей. Эти люди предпочитают работать самостоятельно, избегая излишних социальных контактов. В отношениях они могут казаться сдержанными, но на самом деле глубоко ценят близких и умеют поддерживать их.

INTJ обладают высоким уровнем самодисциплины и любят совершенствовать свои навыки и знания. Они не боятся идти против течения и часто являются пионерами в своих областях. Из-за своей прямолинейности и требовательности к себе и окружающим INTJ могут казаться холодными и отстранёнными. Однако для них важна эффективность и качество результатов, что делает их незаменимыми в командной работе.

Общаясь с INTJ, стоит помнить, что они ценят честность и интеллектуальный обмен, а эмоциональные проявления воспринимают не всегда легко.`,
    INTP: `INTP -- Логик

INTP -- глубокие мыслители и исследователи, склонные к анализу и абстрактному мышлению. Они любят разбирать сложные концепции и искать логические объяснения всему вокруг. Эти люди независимы и часто предпочитают работать в одиночестве, чтобы сосредоточиться на своих идеях и теориях. INTP ценят интеллектуальную свободу и новые знания, что делает их отличными учёными, изобретателями и философами.

Они могут казаться отстранёнными и погружёнными в собственный мир, но при этом очень ценят искренние и глубокие отношения с близкими. Иногда им сложно выражать эмоции и понимать чувства других, поскольку они ориентированы на логику и объективность. INTP часто задают вопросы и сомневаются, что помогает им избегать ошибок и находить нестандартные решения.

Для INTP важно иметь пространство для творческого самовыражения и возможность развивать свои таланты без внешнего давления.`,
    ENTJ: `ENTJ -- Командир

ENTJ -- прирождённые лидеры, которые любят брать ответственность и управлять процессами. Они уверены в себе, энергичны и целеустремлённы, что помогает им добиваться успеха в бизнесе и жизни. ENTJ хорошо видят общую картину и умеют планировать долгосрочные стратегии, а также мотивировать команду на достижение целей.

Эти люди ценят эффективность, решительность и порядок. Они часто бывают прямолинейными и требуют высокого уровня от себя и окружающих. В отношениях ENTJ проявляют заботу и поддержку, но при этом сохраняют независимость и свободу. Они легко принимают сложные решения и не боятся рисковать.

ENTJ любят интеллектуальные вызовы и постоянно стремятся к развитию и совершенствованию своих навыков.`,
    ENTP: `ENTP -- Изобретатель

ENTP -- энергичные и креативные люди, которые любят новые идеи и инновации. Они умеют быстро адаптироваться к изменениям и находить нестандартные решения. ENTP обожают дебаты и интеллектуальные споры, что помогает им оттачивать свои взгляды и аргументы.

Эти личности свободолюбивы и любят исследовать возможности, не боясь выходить за рамки традиций. Они легко заводят знакомства и умеют влиять на людей своей харизмой и энтузиазмом. В работе и личной жизни ENTP ценят разнообразие и свободу выбора.

Из-за своей непредсказуемости они могут быть непостоянными, но всегда сохраняют позитивный настрой и стремление к развитию.`,
    INFJ: `INFJ -- Советник

INFJ -- чуткие и проницательные личности, которые глубоко переживают за окружающих. Они обладают развитой интуицией и часто видят скрытые мотивы и смыслы. INFJ стремятся помочь другим и делают это с искренним сочувствием и заботой.

Они предпочитают тесные и доверительные отношения, в которых могут раскрыть свои чувства и мысли. INFJ любят анализировать внутренний мир и стремятся к гармонии и справедливости. Иногда их идеалы и внутренние конфликты приводят к внутреннему напряжению, но они умеют находить выход через творчество и самопознание.

INFJ -- надежные и верные друзья, готовые поддержать в трудную минуту.`,
    INFP: `INFP -- Посредник

INFP -- мечтательные и идеалистичные люди, которые ценят внутреннюю гармонию и личные ценности. Они обладают богатым воображением и часто ищут глубокий смысл в жизни. INFP стремятся к искренности и аутентичности в отношениях и работе.

Они чувствительны к настроениям других и стараются избегать конфликтов. INFP могут казаться застенчивыми, но при близком знакомстве проявляют тепло и заботу. Они любят творческое самовыражение через искусство, литературу и музыку.

INFP верят в добро и справедливость, что делает их вдохновляющими и поддерживающими спутниками жизни.`,
    ENFJ: `ENFJ -- Наставник

ENFJ -- харизматичные и вдохновляющие лидеры, которые умеют объединять людей вокруг общей цели. Они чутко чувствуют потребности других и стремятся помочь им раскрыть потенциал. ENFJ ценят гармонию и умеют создавать дружелюбную атмосферу.

Эти люди открыты и искренни, что помогает им завоёвывать доверие и уважение. В работе ENFJ любят сотрудничать и вести за собой команду, уделяя внимание развитию каждого участника. В личной жизни они преданны и заботливы.

ENFJ обладают развитой эмпатией и часто выступают в роли советчиков и наставников.`,
    ESFJ: `ESFJ -- Консул

ESFJ -- общительные и заботливые люди, которые ценят традиции и семейные ценности. Они любят поддерживать порядок и помогать другим, что делает их надёжными и отзывчивыми друзьями и коллегами. ESFJ хорошо чувствуют социальные нормы и умеют создавать комфортную атмосферу.

Они предпочитают работать в команде и умеют эффективно организовывать процессы. В отношениях ESFJ проявляют внимание и заботу, стремясь к стабильности и взаимопониманию. Их теплота и отзывчивость делают их популярными в обществе.

ESFJ ценят практическую пользу и конкретные результаты в своей деятельности.`,
    ISFJ: `ISFJ -- Защитник

ISFJ -- ответственные и надёжные личности, которые ценят традиции и долг. Они внимательны к деталям и стараются помогать окружающим, часто оставаясь в тени. ISFJ обладают развитым чувством долга и преданности.

Они предпочитают стабильность и порядок, любят планировать и выполнять задачи тщательно и аккуратно. В отношениях ISFJ преданны и заботливы, уделяют внимание мелочам, которые делают жизнь комфортнее. Часто они проявляют терпение и выдержку в сложных ситуациях.

ISFJ -- тихие герои, которые поддерживают близких своим вниманием и заботой.`,
    ESTJ: `ESTJ -- Руководитель

ESTJ -- практичные и организованные лидеры, которые любят порядок и дисциплину. Они уверенно берут на себя ответственность и стремятся добиться результатов через чёткое планирование и контроль. ESTJ ценят традиции и правила.

Они хорошо умеют управлять людьми и ресурсами, что делает их эффективными руководителями и организаторами. В личной жизни ESTJ практичны и надёжны, предпочитают стабильность и ясность. Их прямолинейность иногда воспринимается как строгость, но она основана на желании сделать всё правильно.

ESTJ любят традиционные ценности и конкретные действия.`,
    ISTJ: `ISTJ -- Логист

ISTJ -- спокойные и ответственные люди, которые ценят порядок, традиции и практичность. Они тщательно планируют и следуют установленным правилам, что делает их надёжными исполнителями. ISTJ обладают хорошей памятью и вниманием к деталям.

Они предпочитают работать самостоятельно или в небольших группах, избегая излишнего внимания. В отношениях ISTJ преданны и серьёзны, стремятся создать стабильную и надёжную среду. Их спокойствие и устойчивость помогают им справляться с трудностями.

ISTJ ценят традиции и конкретные результаты своей работы.`,
    ESFP: `ESFP -- Развлекатель

ESFP -- энергичные и общительные люди, которые любят наслаждаться жизнью и получать удовольствие. Они живут настоящим моментом и легко находят общий язык с окружающими. ESFP ценят практичность и любят разнообразие.

Они любят помогать другим и создавать весёлую атмосферу. В работе ESFP предпочитают практические и творческие задачи, которые позволяют проявить их энтузиазм и гибкость. В отношениях они открыты и искренни, любят весёлое и лёгкое общение.

ESFP -- прирождённые оптимисты, которые заряжают энергией окружающих.`,
    ISFP: `ISFP -- Художник

ISFP -- чувствительные и творческие личности, которые ценят гармонию и красоту. Они любят выражать себя через искусство и живут в согласии со своими внутренними чувствами. ISFP ценят свободу и независимость.

Они предпочитают работать в спокойной обстановке и избегают конфликтов. В отношениях ISFP заботливы и нежны, но могут быть застенчивыми. Они любят природу и стремятся сохранить её красоту.

ISFP -- тихие творцы, которые вдохновляют своим внутренним миром.`,
    ESTP: `ESTP -- Динамо

ESTP -- энергичные и практичные люди, которые любят действие и риск. Они быстро реагируют на изменения и любят решать проблемы на ходу. ESTP ценят свободу и новизну.

Они умеют находить общий язык с разными людьми и любят соревноваться. В работе ESTP предпочитают динамичные задачи, которые требуют быстрого мышления и решительности. В отношениях они прямолинейны и открыты.

ESTP любят жизнь во всех её проявлениях и стремятся получить максимум удовольствия.`,
    ISTP: `ISTP -- Мастер

ISTP -- независимые и практичные личности, которые любят разбираться в механизмах и технологиях. Они предпочитают работать руками и ценят конкретные результаты. ISTP обладают хорошими аналитическими способностями.

Они спокойны и рассудительны, умеют быстро принимать решения в критических ситуациях. В отношениях ISTP сдержанны, но надёжны и преданны. Они любят свободу и независимость.

ISTP -- мастера своего дела, которые ценят практичность и эффективность.`
  };

  // Переменные для подсчёта баллов по каждой дихотомии
  let scores = { EI: 0, SN: 0, TF: 0, JP: 0 };

  const form = document.getElementById("mbtiForm");
  const resultDiv = document.getElementById("result");
  const submitBtn = document.getElementById("submitBtn");

  // Создаём вопросы с радиокнопками
  questions.forEach((q, i) => {
    const div = document.createElement("div");
    div.className = "question fade-in";

    const p = document.createElement("p");
    p.textContent = `${i + 1}. ${q.text}`;
    div.appendChild(p);

    const labelYes = document.createElement("label");
    const radioYes = document.createElement("input");
    radioYes.type = "radio";
    radioYes.name = "q" + i;
    radioYes.value = "yes";
    labelYes.appendChild(radioYes);
    labelYes.appendChild(document.createTextNode("Да"));
    div.appendChild(labelYes);

    const labelNo = document.createElement("label");
    const radioNo = document.createElement("input");
    radioNo.type = "radio";
    radioNo.name = "q" + i;
    radioNo.value = "no";
    labelNo.appendChild(radioNo);
    labelNo.appendChild(document.createTextNode("Нет"));
    div.appendChild(labelNo);

    form.appendChild(div);
  });

  submitBtn.addEventListener("click", () => {
    // Сброс результатов
    scores = { EI: 0, SN: 0, TF: 0, JP: 0 };
    let unanswered = false;

    // Подсчёт баллов
    questions.forEach((q, i) => {
      const answer = form["q" + i].value;
      if (!answer) {
        unanswered = true;
        return;
      }
      // yes = 1, no = 0
      let val = answer === "yes" ? 1 : 0;
      if (q.reverse) val = 1 - val; // если вопрос с обратным смыслом

      scores[q.dimension] += val;
    });

    if (unanswered) {
      alert("Пожалуйста, ответьте на все вопросы.");
      return;
    }

    // Определяем тип
    const EI = scores.EI >= 30 ? "E" : "I"; // 60 вопросов, порог 30
    const SN = scores.SN >= 30 ? "S" : "N";
    const TF = scores.TF >= 30 ? "T" : "F";
    const JP = scores.JP >= 30 ? "J" : "P";

    const type = EI + SN + TF + JP;

    // Вывод результата с описанием
    let description = descriptions[type];
    if (!description) description = "Описание для этого типа личности отсутствует.";

    resultDiv.style.display = "block";
    resultDiv.textContent = `Ваш тип MBTI: ${type}\n\n${description}`;

    // Генерация PDF
    generatePDF(type, description);
  });

  // Функция генерации PDF с помощью jsPDF
  function generatePDF(type, text) {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    doc.setFontSize(18);
    doc.text("Результат MBTI теста", 14, 20);
    doc.setFontSize(14);
    doc.text(`Ваш тип: ${type}`, 14, 30);

    const splitText = doc.splitTextToSize(text, 180);
    doc.setFontSize(12);
    doc.text(splitText, 14, 40);

    doc.save(`MBTI_результат_${type}.pdf`);
  }
</script>

</body>
</html>